<!DOCTYPE html>


<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>D3 tutos</title>
    <style media="screen">
    .bar-chart {
        background-color: #C7D9D9;
    }

    .bar {
      fill: #00FFFF;
      cursor: pointer;
    }
    .label {
      fill: #0955FA;
      text-anchor: middle;
      cursor: pointer;
      background-color: #000;
    }
    .groups:hover .bar {
      fill: #ec008c;
      opacity: 1;
    }

    </style>
  </head>
  <body>
    <h1>Graphique batonnets</h1>

    <svg class="bar-chart"></svg>

    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script>
      var dataset = [80, 100, 56, 120, 180, 30, 40, 120, 160];

      var svgWidth = 500, svgHeight = 300, barPadding = 5;
      var barWidth = svgWidth / dataset.length;

      var svg = d3.select("svg").attr("width", svgWidth).attr("height", svgHeight);

      var g = svg.selectAll("g").data(dataset).enter().append("g")
                .attr("class","groups");

      g.append("rect")
              .attr("class", "bar")
              .attr("y", function(d) { return svgHeight - d;  })
              .attr ("height", function(d) { return d; })
              .attr("width", barWidth - barPadding)
              .attr("transform", function (d, i) {
                      var translate = [barWidth * i, 0];
                      return "translate("+translate+")";
              });

      g.append("text")
          .attr("class", "label")
          .text(function(d) {
            return d;
          })
          .attr("y", function(d, i) {
            return svgHeight - d -3;
          })
          .attr("x", function(d, i){
            return barWidth*(i + 0.5);
          });



    </script>

  </body>
</html>
